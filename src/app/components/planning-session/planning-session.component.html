<div  style="max-width: 99%; max-height: 99%; overflow: hidden;">
    <div *ngIf="!inSession">
        <label for="username">User Id:</label><input id="planning_username" name="username" type="text"
                                                     [(ngModel)]="session.user.name"
                                                     style="width: 200px;margin-left: 20px;"> <br>
        <div class="group">
            <button id="new_planning_session" (click)="createSession()">Create new session</button>
            <br>
        </div>
        <div class="group">
            <label for="sessionId">Session Id:</label><input id="planning_session_id" name="sessionId" type="text"
                                                             [(ngModel)]="session.id"
                                                             style="width: 200px;margin-left: 20px;"><br/>
            <button id="join_planning_session" (click)="joinSession()">Join existing session</button>
        </div>
    </div>
    <div *ngIf="inSession" style="height: 100%;">
        <div class="p-grid" style="height: 100%;">
            <div id="userPanel" class="p-col-2 user-panel">Users: <br>
                <ul>
                    <li *ngFor="let user of session.users">
                        <span>{{user.name}}
                            <i [ngClass]="{'pi pi-check' :  user.vote && phase === 'voting' }"></i>
                            <i *ngIf="user.vote && phase === 'showResults'">( {{user.vote}} )</i>
                        </span>
                    </li>
                </ul>
            </div>
            <div id="planningMainpanel" class="p-col-8 mainPanel">
                <div *ngIf="phase==='voting'">
                    <div class="card-panel">
                        <app-cards-view [cardNumbers]="cardNumbers"
                                        (cardSelectedEvent)="cardSelected($event)"></app-cards-view>
                    </div>
                </div>
                <div class="result-panel" *ngIf="phase==='showResults'">
                    <app-result-view [users]="session.users" [choices]="cardNumbers" [colors]="chartColors"></app-result-view>
                </div>
            </div>
            <div id="controlePanel" class="p-col-2">
                <div class="controlePanel">
                    <div>
                        <label>Session: <a (click)="getLinkUrl()" title="click to copy the session-url">{{session.id}}</a></label><br />
                        <label>User: {{session.user.name}} ({{session.user.id}})</label><br />
                    </div>
                    <button *ngIf="isAdmin()" pButton type="button" label="{{switchPhase}}" (click)="switchPhaseHandler()"></button>
                    <div id="messagePanel"  style="flex-grow: 1; border: 1px solid black; padding:4px;margin-bottom: 20px;">
                        <app-messages-view [messageReceived]="newMessage" (messageEntered)="addMessage($event)"></app-messages-view>
                    </div>
                </div>
            </div>
          
        </div>
    </div>
    <p-scrollPanel class="footer">
        <p>{{status}}</p>
    </p-scrollPanel>
</div>

